<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<section id="release-rpm"
         xreflabel="release-rpm">
  <title>
  release-rpm
  </title>

  <section>
    <title>
    Definition
    </title>

    <para>
    Creates the <filename>$NAME-release.rpm</filename> containing
    release files for the client system. The release RPM contains
    files such as the EULA, appliance release notes, and appliance documentation
    in HTML format.
    </para>

    <para>
    This module is a member of the <emphasis role="strong">rpmbuild</emphasis>
    module group.
    </para>
  </section>

  <section>
    <title>
    Syntax
    </title>

    <programlisting>
[&lt;release-rpm [enabled=BOOLEAN] [use-default-obsoletes=BOOLEAN]&gt;
  [&lt;doc   [mode=MODE] [destdir=DIRNAME] [destname=BASENAME]&gt;PATH&lt;/doc&gt;]*
  [&lt;eula  [mode=MODE] [destdir=DIRNAME] [destname=BASENAME]&gt;PATH&lt;/eula&gt;]*
  [&lt;files [mode=MODE] [destdir=DIRNAME] [destname=BASENAME]&gt;PATH&lt;/files&gt;]*
  [&lt;html  [mode=MODE] [destdir=DIRNAME] [destname=BASENAME]&gt;PATH&lt;/html&gt;]*

  [&lt;obsoletes&gt;CAPABILITY&lt;/obsoletes&gt;]*
  [&lt;requires&gt;CAPABILITY&lt;/requires&gt;]*

 &lt;/release-rpm&gt;]
    </programlisting>
  </section>

  <section>
    <title>
    Attributes
    </title>

    <variablelist>
    <varlistentry>
      <term>
      enabled
      </term>

      <listitem>
      <para>
      See Common Attribute <emphasis><xref linkend="enabled" /></emphasis>.
      </para>
      </listitem>
    </varlistentry>
    </variablelist>
  </section>

  <section>
    <title>
    Elements
    </title>

    <variablelist>
    <varlistentry>
      <term>
      doc
      </term>

      <listitem>
      <para>The <varname>PATH</varname> to a folder or file containing
      additional documentation files to include in the appliance.
      Typical files to include are <filename>AUTHOR</filename>,
      <filename>LICENSE</filename>, <filename>COPYRIGHT</filename>,
      <filename>README</filename>, etc. This element can occur zero or more 
      times.
      </para>

      <para>
      This element accepts three attributes:
      <emphasis>@destdir</emphasis>,
      <emphasis>@destname</emphasis>, and
      <emphasis>@mode</emphasis>.
      </para>

      <para>
      <emphasis>@destdir</emphasis>: See the <varname>PATH</varname>-like
      attribute <emphasis><xref linkend="destdir" /></emphasis>. Controls
      the location to which this file should be installed on the client
      system.  The default value is
      <filename>/usr/share/$NAME-release-notes-$VERSION</filename>.
      </para>

      <para>
      <emphasis>@destname</emphasis>: See the <varname>PATH</varname>-like
      attribute <emphasis><xref linkend="destname" /></emphasis>.
      </para>

      <para>
      <emphasis>@mode</emphasis>: See the <varname>PATH</varname>-like
      attribute <emphasis><xref linkend="mode" /></emphasis>.
      </para>

      <para>
      See Also <xref linkend="path-like-elements" />.
      </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>
      eula
      </term>

      <listitem>
      <para>
      The <varname>PATH</varname> to a file or folder containing the EULA
      of the appliance. This element can occur zero or more times.
      </para>

      <para>
      This element accepts three attributes:
      <emphasis>@destdir</emphasis>,
      <emphasis>@destname</emphasis>, and
      <emphasis>@mode</emphasis>.
      </para>

      <para>
      <emphasis>@destdir</emphasis>: See the <varname>PATH</varname>-like
      attribute <emphasis><xref linkend="destdir" /></emphasis>. Controls
      the location to which this file should be installed on the client
      system. The default value is <filename>/usr/share/eula</filename>.
      </para>

      <para>
      <emphasis>@destname</emphasis>: See the <varname>PATH</varname>-like
      attribute <emphasis><xref linkend="destname" /></emphasis>.
      </para>

      <para>
      <emphasis>@mode</emphasis>: See the <varname>PATH</varname>-like
      attribute <emphasis><xref linkend="mode" /></emphasis>.
      </para>

      <para>
      See Also <xref linkend="path-like-elements" />.
      </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>
      files
      </term>

      <listitem>
      <para>
      The <varname>PATH</varname> to additional files or folders to include
      in the release RPM. This element can occur zero or more times.
      </para>

      <para>
      This element accepts three attributes:
      <emphasis>@destdir</emphasis>,
      <emphasis>@destname</emphasis>, and
      <emphasis>@mode</emphasis>.
      </para>

      <para>
      <emphasis>@destdir</emphasis>: See the <varname>PATH</varname>-like
      attribute <emphasis><xref linkend="destdir" /></emphasis>. Controls
      the location to which this file should be installed on the client
      system. The default value is
      <filename>/usr/share/doc/$NAME-release-$VERSION</filename>.
      </para>

      <para>
      <emphasis>@destname</emphasis>: See the <varname>PATH</varname>-like
      attribute <emphasis><xref linkend="destname" /></emphasis>.
      </para>

      <para>
      <emphasis>@mode</emphasis>: See the <varname>PATH</varname>-like
      attribute <emphasis><xref linkend="mode" /></emphasis>.
      </para>

      <para>
      See Also <xref linkend="path-like-elements" />.
      </para>
    </listitem>
    </varlistentry>

    <varlistentry>
      <term>
      html
      </term>

      <listitem>
      <para>
      The <varname>PATH</varname> to a file or folder containing
      HTML documentation files for the appliance. This element can occur zero 
      or more times.
      </para>

      <para>
      This element accepts three attributes:
      <emphasis>@destdir</emphasis>,
      <emphasis>@destname</emphasis>, and
      <emphasis>@mode</emphasis>.
      </para>

      <para>
      <emphasis>@destdir</emphasis>: See the <varname>PATH</varname>-like
      attribute <emphasis><xref linkend="destdir" /></emphasis>. Controls
      the location to which this file should be installed on the client
      system. The default value is <filename>/usr/share/doc/HTML</filename>.
      </para>

      <para>
      <emphasis>@destname</emphasis>: See the <varname>PATH</varname>-like
      attribute <emphasis><xref linkend="destname" /></emphasis>.
      </para>

      <para>
      <emphasis>mode</emphasis>: See the <varname>PATH</varname>-like
      attribute <emphasis><xref linkend="mode" /></emphasis>.
      </para>

      <note>
      Some operating system distributions will display a file named 
      <filename>index.html</filename> in the 
      <filename>/usr/share/doc/HTML</filename> folder as the default home page
      when the client machine web browser is started.  This varies by operating
      system distribution.
      </note>

      <para>
      See Also <xref linkend="path-like-elements" />.
      </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>
      obsoletes
      </term>

      <listitem>
      <para>
      See RPMBuild Common Element
      <emphasis><xref linkend="obsoletes" /></emphasis>.
      </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>
      requires
      </term>

      <listitem>
      <para>
      See Common Element
      <emphasis><xref linkend="requires" /></emphasis>.
      </para>
      </listitem>
    </varlistentry>
    </variablelist>
  </section>

  <section>
    <title>
    Examples
    </title>

    <informalexample>
    <programlisting>
&lt;release-rpm&gt;

  &lt;!-- README, CONFIG and TEST documents for Samba --&gt;
  &lt;doc destdir="samba-example"&gt;README&lt;/doc&gt;
  &lt;doc destdir="samba-example"&gt;CONFIG&lt;/doc&gt;
  &lt;doc destdir="samba-example" mode="600" &gt;TEST&lt;/doc&gt;

  &lt;!-- EULA --&gt;
  &lt;eula&gt;EULA.txt&lt;/eula&gt;

  &lt;!-- Default HTML page to install on the client system --&gt;
  &lt;html&gt;index.html&lt;/html&gt;

&lt;/release-rpm&gt;
    </programlisting>
    </informalexample>
  </section>

  <section>
    <title>
    See Also
    </title>

    <para>
    <varname><xref linkend="variable-name" /></varname>,
    <varname><xref linkend="variable-version" /></varname>,
    <varname><xref linkend="content-boolean" /></varname>,
    <varname><xref linkend="content-package" /></varname>,
    <varname><xref linkend="content-path" /></varname>,
    <xref linkend="path-like-elements" />
    </para>
  </section>
</section>
