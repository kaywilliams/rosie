<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<section id="sources"
         xreflabel="sources">
  <title>
  sources
  </title>

  <section>
    <title>
    Definition
    </title>

    <para>
    Specifies the list of repositories from which Spin downloads
    source RPMs (SRPMs). If this module is enabled, every RPM in the
    appliance must have a matching SRPM in one or more of these source
    repositories.
    </para>

    <para>
    This module is a member of the <emphasis role="strong">publish</emphasis>
    module group.
    </para>
  </section>

  <section>
    <title>
    Syntax
    </title>

    <programlisting>
[&lt;sources [enabled=BOOLEAN]&gt;

   &lt;!-- one-or-more of the &lt;repo&gt; and/or &lt;repofile&gt; elements --&gt;
  [&lt;repo id=ID&gt;
     &lt;!-- at least one &lt;baseurl&gt; or &lt;mirrorlist&gt; is required --&gt;
    [&lt;baseurl&gt;PATH&lt;/baseurl&gt;]*
    [&lt;mirrorlist&gt;PATH&lt;/mirrorlist&gt;]
    [&lt;enabled&gt;BOOLEAN&lt;/enabled&gt;]
    [&lt;name&gt;TEXT&lt;/name&gt;]
    [&lt;gpgcheck&gt;BOOLEAN&lt;/gpgcheck&gt;]
    [&lt;gpgkey&gt;PATH&lt;gpgkey&gt;]*
    [&lt;exclude-package&gt;PACKAGE&lt;/exclude-package&gt;]*
    [&lt;include-package&gt;PACKAGE&lt;/include-package&gt;]*
    [&lt;systemid&gt;PATH&lt;/systemid&gt;]
   &lt;/repo&gt;]

  [&lt;repofile&gt;PATH&lt;/repofile&gt;]*

  [&lt;releasever&gt;TEXT&lt;/releasever&gt;]
  [&lt;exclude-package&gt;PACKAGE&lt;/exclude-package&gt;]*
 &lt;/sources&gt;]
    </programlisting>
  </section>

  <section>
    <title>
    Attributes
    </title>

    <variablelist>
    <varlistentry>
      <term>
      enabled
      </term>

      <listitem>
      <para>
      See Common Attribute <emphasis><xref linkend="enabled" /></emphasis>.
      </para>
      </listitem>
    </varlistentry>
    </variablelist>
  </section>

  <section>
    <title>
    Elements
    </title>

    <variablelist>
    <varlistentry>
      <term>
      exclude-package
      </term>

      <listitem>
      <para>
      A <varname>PACKAGE</varname> pattern to exclude from all source
      repositories. See Also 
      <xref linkend="repo-including-excluding-repository-contents" />.
      </para>

      <para>
      This element can occur zero or more times.
      </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>
      releasever
      </term>

      <listitem>
      <para>
      The value to use to replace the <varname>$releasever</varname> yum
      variable in all source repository baseurls and/or mirrorlists
      instead of the default value, <varname>$VERSION</varname>.
      </para>
      </listitem>
    </varlistentry>

    <varlistentry id="sources-repo"
                  xreflabel="sources/repo">
      <term>
      repo
      </term>

      <listitem>
      <para>
      Include a repository from which to select source packages for the
      appliance.
      See Common Element <emphasis><xref linkend="repo" /></emphasis>.
      See Also
      <xref linkend="repos-including-repositories" /> and
      <xref linkend="repo-including-excluding-repository-contents" />.
      </para>

      <para>
      This element can occur zero or more times. However, the
      <emphasis role="strong">sources</emphasis> top-level element must
      have at least one <emphasis>sources/repo</emphasis> or
      <emphasis>sources/repofile</emphasis> element.
      </para>
      </listitem>
    </varlistentry>

    <varlistentry id="sources-repofile"
                  xreflabel="sources/repofile">
      <term>
      repofile
      </term>

      <listitem>
      <para>The <varname>PATH</varname> to a
      <application class="software">yum</application> repofile. See also
      Common Element <emphasis><xref linkend="repo" /></emphasis> and
      <xref linkend="repos-including-repositories" />. See also the
      yum.conf man pages for the appropriate syntax of a yum repofile.
      </para>

      <para>
      This element can occur zero or more times. However, the
      <emphasis role="strong">sources</emphasis> top-level element must
      have at least one <emphasis>sources/repo</emphasis> or
      <emphasis>sources/repofile</emphasis> element.
      </para>
      </listitem>
    </varlistentry>
    </variablelist>
  </section>

  <section>
    <title>
    Examples
    </title>

    <informalexample>
    <programlisting>
&lt;sources&gt;
  &lt;repo id="centos-base-source"&gt;
    &lt;baseurl&gt;http://mirror.centos.org/centos/5/os/SRPMS&lt;/baseurl&gt;
  &lt;/repo&gt;
  &lt;repo id="centos-updates-source"&gt;
    &lt;baseurl&gt;http://mirror.centos.org/centos/5/updates/SRPMS&lt;/baseurl&gt;
  &lt;/repo&gt;
&lt;/sources&gt;
    </programlisting>
    </informalexample>
  </section>

  <section>
    <title>
    See Also
    </title>

    <para>
    <varname><xref linkend="content-boolean" /></varname>,
    <varname><xref linkend="content-package" /></varname>,
    <varname><xref linkend="content-path" /></varname>,
    <varname><xref linkend="content-text" /></varname>,
    <emphasis><xref linkend="repo" /></emphasis>,
    <xref linkend="repo-including-excluding-repository-contents" />
    </para>
  </section>
</section>
