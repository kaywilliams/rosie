<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<chapter id="DDFR-Introduction">
  <title>
  Introduction to the Distribution Definition File
  </title>

  <para>
  The distribution definition file contains instructions for building a
  Linux operating system distribution, or distribution. It defines distribution 
  content and configuration, including name, version, and architecture; package
  repository locations; which packages to include; and the locations of 
  configuration scripts, files and custom graphics. SystemBuilder uses the distribution file
  to assemble, create and publish the distribution. Other programs, such as
  <application class="software">YUM</application>,
  <application class="software">Anaconda</application>, and
  <application class="software">RPM</application>
  use files created by <application class="software">SystemBuilder</application>
  to install and update the distribution on the client system.
  </para>

  <para>
  The distribution file is a text-based file in XML format. Within the
  file are a series of top-level elements that equate to
  modules, or steps, within the distribution build process. These elements,
  in turn, contain their own attributes and elements. There are three
  required top-level elements:
  <emphasis role="strong"><xref linkend="main" /></emphasis>,
  <emphasis role="strong"><xref linkend="repos" /></emphasis>, and
  <emphasis role="strong"><xref linkend="packages" /></emphasis>;
  all other top-level elements are optional. Top-level elements can appear
  in the distribution file in any order. Indentation is for readability
  purposes only.
  </para>

  <para>
  The distribution file has full support of XML Inclusions (XIncludes). Please
  refer to the <ulink url="http://www.w3.org/TR/xinclude/">XInclude Technical
  Report</ulink> for more information.
  </para>

  <para>
  A distribution file can be located in any local directory and invoked from the
  command line using the command <command>systembuilder</command> followed by the full
  or relative pathname to the file, such as:
  </para>

  <informalexample>
  <programlisting>
<command>systembuilder</command> /path/to/distribution/file
  </programlisting>
  </informalexample>

  <section>
    <title>
    Basic distribution file example
    </title>

    <para>
    Here is a basic example distribution file based on a CentOS 5 distribution.
    </para>

    <informalexample>
    <programlisting>
&lt;system&gt;

  &lt;main&gt;
    &lt;name&gt;samba&lt;/name&gt;
    &lt;version&gt;5&lt;/version&gt;
    &lt;arch&gt;i386&lt;/arch&gt;
  &lt;/main&gt;

  &lt;repos&gt;
    &lt;repo id="base"&gt;
      &lt;name&gt;CentOS-$releasever - Base&lt;/name&gt;
      &lt;baseurl&gt;http://mirror.centos.org/centos/5/os/i386/&lt;/baseurl&gt;
    &lt;/repo&gt;
    &lt;repo id="updates"&gt;
      &lt;name&gt;CentOS-$releasever - Updates&lt;/name&gt;
      &lt;baseurl&gt;http://mirror.centos.org/centos/5/updates/i386/&lt;/baseurl&gt;
    &lt;/repo&gt;
  &lt;/repos&gt;

  &lt;packages&gt;
    &lt;group repoid="base"&gt;core&lt;/group&gt;
    &lt;group repoid="base"&gt;smb-server&lt;/group&gt;
  &lt;/packages&gt;

&lt;/system&gt;
    </programlisting>
    </informalexample>
  </section>

  <section>
    <title>
    See Also
    </title>

    <para>
    <ulink url="http://www.w3.org/TR/xinclude/">W3 XInclude instructions</ulink>,
    <ulink url="http://fedoraproject.org/wiki/Docs/Drafts/SoftwareManagementGuide">Fedora Project YUM</ulink>,
    <ulink url="http://linux.duke.edu/projects/YUM/">Duke University YUM Project</ulink>,
    <ulink url="http://fedoraproject.org/wiki/Anaconda">Fedora Anaconda Project</ulink>,
    <ulink url="http://rpm.org/">RPM Package Manager</ulink>
    </para>
  </section>
</chapter>
