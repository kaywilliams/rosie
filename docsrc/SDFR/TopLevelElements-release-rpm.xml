<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<section id="release-rpm"
         xreflabel="release-rpm"
         xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>
  Release-rpm (optional)
  </title>

  <section>
    <title>
    Definition
    </title>

    <para>
    Creates an RPM used to install and update solution-specific YUM repository
    configuration on client machines.  The RPM is named:
    </para>

    <synopsis>%{name}-release</synopsis>

    <para>
    See the <emphasis>main/name</emphasis> element for information on
    <emphasis>%{name}</emphasis>.
    </para>

  </section>

  <section>
    <title>
    Syntax
    </title>

    <programlisting>
[&lt;release-rpm&gt;
  [&lt;updates [sync=boolean] [gpgcheck=boolean]) /&gt;
&lt;/release-rpm&gt;]
    </programlisting>
  </section>

  <section>
    <title>
    Elements
    </title>

    <variablelist>

    <varlistentry id="release-rpm-updates"
                  xreflabel="release-rpm/updates">
      <term>
      updates
      </term>

      <listitem>
      <para>
      Controls inclusion of the <application class="software">YUM</application>
      sync plugin; also controls whether gpgchecking is performed. 
      </para>

      <para>
      Accepts two attributes,
      <emphasis>@sync</emphasis> and
      <emphasis>@gpgcheck</emphasis>.
      </para>

      <para>
      <emphasis>@sync</emphasis>: <varname>BOOLEAN</varname> value indicating
      whether to include the <application
      class="software">CentOS Studio</application>-provided <application
      class="software">YUM</application> sync plugin in the config RPM. The
      sync plugin overrides <application class="software">YUM</application>'s
      default behavior 1) to disable all repositories other than the
      solution repository and 2) to provide a <emphasis>sync</emphasis>
      argument that allows adding <emphasis>and removing</emphasis> installed
      packages on client machines in alignment with with available packages in
      the solution repository. The default value is
      <constant>TRUE</constant>. 
      </para>

      <para>
      <emphasis>@gpgcheck</emphasis>: <varname>BOOLEAN</varname> value
      indicating whether packages should be checked for valid GPG signatures.
      This value controls whether CentOS Studio performs gpgchecking when
      creating the solution. It also controls whether YUM checks
      packages from the solution prior to performing client machine 
      updates. The default value is <constant>TRUE</constant>.
      </para>

      </listitem>
    </varlistentry>
    </variablelist>
  </section>

  <section>
    <title>
    Examples
    </title>

    <informalexample>
    <programlisting>
&lt;release-rpm&gt;

  &lt;!-- exclude the yum sync plugin --&gt;
  &lt;updates sync="false" /&gt;

  &lt;!-- disable gpgchecking --&gt;
  &lt;updates gpgcheck="false" /&gt;

&lt;/release-rpm&gt;
    </programlisting>
    </informalexample>
  </section>

</section>
