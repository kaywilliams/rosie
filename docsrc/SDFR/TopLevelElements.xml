<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<chapter id="ADFR-TLE-Introduction"
         xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>
  Top-Level Elements
  </title>

  <para>
  Each top-level element in the ADFR maps to a code module of the same
  name. Each code module is responsible for performing a single step in
  the appliance build process.  Related modules are organized into 
  module groups. To obtain a list of all available modules and module 
  groups type

  <programlisting>
spin --list-modules
  </programlisting>

  at the command prompt. Refer to the Spin man pages for more information.
  This document only describes top-level elements that contain
  user-configurable parameters; not all modules listed from the above
  command are described below.
  </para>

  <para>
  All top-level elements, including those not described in the following
  document, support the following method for enabling and disabling the
  module's processing code. A top-level element
  <emphasis role="strong">element</emphasis> can be disabled by setting
  <emphasis>element/@enabled</emphasis> to <constant>FALSE</constant>.
  Similarly, the module groups
  <emphasis role="strong">rpmbuild</emphasis>,
  <emphasis role="strong">package</emphasis>, and
  <emphasis role="strong">installer</emphasis> can be disabled by setting
  their <emphasis>@enabled</emphasis> attribute to
  <constant>FALSE</constant>.
  </para>

  <para>
  The sole exception to the above rules is the
  <emphasis role="strong">main</emphasis> module, which is required for
  Spin to operate properly.
  </para>

  <para>
  The following example will disable the
  <emphasis role="strong">config-rpm</emphasis> top-level element
  and associated code module:
  <programlisting>
&lt;config-rpm enabled="false" /&gt;
  </programlisting>

  The entire <emphasis role="strong">rpmbuild</emphasis> module group,
  which includes <emphasis role="strong">config-rpm</emphasis>, is
  disabled like in the following example:

  <programlisting>
&lt;rpmbuild enabled="false" /&gt;
  </programlisting>
  </para>

  <xi:include href="TopLevelElements-bootiso.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-config-rpm.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-diskboot-image.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-gpgsign.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-iso.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-kickstart.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-main.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-packages.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-product-image.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-publish.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-release-files.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-release-rpm.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-repos.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-sources.xml"
              xpointer="element(/1)" />

  <xi:include href="TopLevelElements-updates-image.xml"
              xpointer="element(/1)" />

</chapter>
