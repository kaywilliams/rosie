<docroot>
  <refentry>
    <!-- baseurl -->
    <refsect2>
      <title>&lt;baseurl&gt;</title>
      <para>The baseurl element is used inside of repo elements and accepts the
      same values as path elements.
      </para>
      <programlisting>
element baseurl {  text  }
      </programlisting>
      <refsection>
        <title>Parents</title>
        <para>repo</para>
      </refsection>
      <refsection>
        <title>See also</title>
        <para>path, repo, repos, sources</para>
      </refsection>
    </refsect2>

    <!-- exclude -->
    <refsect2>
      <title>&lt;exclude&gt;</title>
      <para>
      exclude is a container for package elements.  It indicates packages that should
      be explicitly excluded from some operation, even if they would normally be
      included in some other way.  For example, the comps element uses exclude to
      list packages that shouldn't be included in the required packages list, even if
      they are included in one of the groups it contains.
      </para>
      <programlisting>
element exclude {
  element package { ... }+
}
      </programlisting>
      <refsection>
        <title>Parents</title>
        <para>comps, repo</para>
      </refsection>
      <refsection>
        <title>See also</title>
        <para>comps, repos, repo, includepkgs</para>
      </refsection>
    </refsect2>
    
    <!-- includepkgs -->
    <refsect2>
      <title>&lt;includepkgs&gt;</title>
      <para>
      includepkgs is a container for package elements.  It indicates packages that should
      be included from a repository.  For example, if only one package is specified in
      includepkgs, then that is the *only* package dimsbuild will see from the repository
      when dependency solving.
      </para>
      <programlisting>
element include {
  element package { ... }+
}
      </programlisting>
      <refsection>
        <title>Parents</title>
        <para>comps</para>
      </refsection>
      <refsection>
        <title>See also</title>
        <para>repo, exclude</para>
      </refsection>
    </refsect2>
    
    <!-- path -->
    <refsect2>
      <title>&lt;path&gt;</title>
      <para>
      A valid URI utilizing one of the following supported protocols: file, http,
      and https.  If no protocol is specified, 'file' is typically assumed.  If the
      path is relative instead of absolute, dimsbuild assumes a relative file path
      to ...somewhere...
      </para>
      <programlisting>
element path {
  attribute dest { text }?,
  text
}
      </programlisting>
      <refsection>
        <title>Attributes</title>
        <para>path elements have the following attributes:</para>
        <refsection>
          <title>dest</title>
          <para>
          optional; some path elements are used as both a source and a destination;
          for these cases, the dest attribute tells dimsbuild where to put the file
          or directory; events that do not use dest ignore it; defaults to '/'
          </para>
          <para>
          Any path specified (including the default) will have all leading '/'
          characters stripped to ensure proper joining - to treat the destination
          specified as an absolute path, join it with the string '/'.
          </para>
        </refsection>
      </refsection>
      <refsection>
        <title>Parents</title>
        <para>isolinux, product.img, repo, updates.img, use-existing</para>
        <!-- there are certainly more -->
      </refsection>
      <refsection>
        <title>Examples</title>
        <para>
        The following are a few examples of path elements
        </para>
        <programlisting>
&lt;path&gt;http://redhat.download.fedoraproject.org/pub/&lt;/path&gt;
        </programlisting>
        <para>
        This is a simple web location, pointing to the 'pub' folder at the given
        server.
        </para>
        <programlisting>
&lt;path&gt;/var/cache/profiles&lt;/path&gt;
&lt;path&gt;file:///var/cache/profiles&lt;/path&gt;
        </programlisting>
        <para>
        These are equivalent paths to a file location on the local machine.  It is
        uncertain whether this is a file or a directory; in most cases is is
        recommended that trailing directories are affixed with a '/' to be clear.
        </para>
        <programlisting>
&lt;path&gt;source/schema/di.xml&lt;/path&gt;
        </programlisting>
        <para>
        This is an example relative path.  This path is appended onto the relative
        path root ...defined somehow...
        </para>
        <programlisting>
&lt;path dest='/var/cache'&gt;/var/cache/profiles&lt;/path&gt;
        </programlisting>
        <para>
        This is a path that includes a dest attribute.  If dimsbuild copies this file
        somewhere, it will have 'var/cache' appended to the destination before copying.
        </para>
      </refsection>
    </refsect2>
    
    <!-- repo -->
    <refsect2>
      <title>&lt;repo&gt;</title>
      <para>
      repo elements represent a local or remote repository that can be used by
      dimsbuild as a source for input files, including rpms, stage2 images, kernels
      and initrds, and other files.  They contain a number of nodes that define all
      the characteristics of a repository for dimsbuild's use.
      </para>
      <programlisting>
element repo {
  attribute id { text },
  element baseurl { ... }
  &amp; element includepkgs { ... }?
  &amp; element exclude { ... }?
  &amp; element gpgkey { ... }?
  &amp; element gpgcheck { ... }?
}
      </programlisting>
      <refsection>
        <title>Parents</title>
        <para>repos, sources</para>
      </refsection>
      <refsection>
        <title>Attributes</title>
        <para>repo elements have the following attributes:</para>
        <refsection>
          <title>id</title>
          <para>a unique id representing this repo in the config file</para>
        </refsection>
      </refsection>
      <refsection>
        <title>Examples</title>
        <para>
        The following is an example repository element.  Note that the definition
        includes a macro element; see the appropriate section for information on
        how these are processed.
        </para>
        <programlisting>
&lt;repo id='example-fedora-repo'&gt;
  &lt;macro id='root'&gt;http://redhat.download.fedoraproject.org&lt;macro&gt;
  &lt;baseurl&gt;%{root}/pub/fedora/linux/core/6/i386/os/&lt;/baseurl&gt;
  &lt;gpgkey&gt;
    %{root}/pub/fedora/linux/core/6/i386/os/RPM-GPG-KEY-fedora
  &lt;/gpgkey&gt;
  &lt;gpgcheck&gt;yes&lt;/gpgcheck&gt;
&lt;/repo&gt;
        </programlisting>
      </refsection>
    </refsect2>
    
  </refentry>
</docroot>
