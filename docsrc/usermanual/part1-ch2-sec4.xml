<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<section>
  <title>Building a Distribution</title>

  <para>Now that you have defined your distribution, use the
  <command>systembuilder</command> command to build it. The build process sends
  output to the screen and to a log file.</para>

  <section>
    <title>Executing the <command>systembuilder</command> command</title>

    <para>The basic <command>systembuilder</command> command validates the 
    distribution definition file syntax, resolves package dependencies, creates
    distribution-specific packages, creates a distribution package repository, 
    and creates deployment images, all while recording process results. The
    default level of screen output includes errors, build and module status and
    file download and creation status. SystemBuilder also sends
    this output to <filename>/var/log/systembuilder.log</filename>. If a critical error
    occurs, SystemBuilder includes that information in the log file. To run your
    build, enter the command below:</para>

    <para><informalexample>
        <programlisting>#systembuilder samba-server.distribution</programlisting>
      </informalexample>The output for an initial run details all the steps
    for downloading packages, checking package dependencies and creating
    images. If there are any errors, <application
    class="software">SystemBuilder</application> notes those and, in many cases, halts
    the process. See Appendix A for an example of a successful first-build
    output.</para>

    <para>The variable
    <varname>$SYSTEMDEFINITION</varname> is the name of your distribution definition
    file without the file extension, e.g. 
    <filename class="extension">.distribution</filename>.</para>
    <para><table>
        <title>Default Folders and Files SystemBuilder Generates</title>

        <tgroup cols="2">
          <tbody>
            <row>
              <entry><varname>$SYSTEMDEFINITION</varname>.dat</entry>

              <entry>Distribution data file. Used by SystemBuilder to manage the
              distribution's RPM release numbers. This file should be version
              controlled.</entry>
            </row>
          </tbody>
        </tgroup>
      </table></para>
  </section>
</section>
