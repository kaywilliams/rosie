<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<section>
  <title>Updating Your Appliance</title>

  <para>Using your system definition file, there are two methods to change
  an appliance by adding or removing application packages in conjunction with
  the <command>yum</command> <option>update</option> command option. One
  method uses the <emphasis>packages</emphasis> TLE, which addresses the
  appliance repository only, while the other uses
  <emphasis>config-rpm</emphasis>, which affects changes within your
  appliance's repository and on the installed client system.</para>

  <para>Regarding updates, if you add a package to your appliance using
  <emphasis>packages</emphasis> in your
  <filename>samber-server.xml</filename> file, <command>yum</command>
  <option>update</option> will include the package in the appliance
  repository, which is available for installation. If you add a new package
  using <emphasis>config-rpm/requires</emphasis>, <command>yum</command>
  <option>update</option> will include the package in the appliance repository
  <emphasis role="strong">and</emphasis> install it on the client system.
  </para>

  <para>If you choose to update your appliance by removing a package using
  <emphasis>packages/exclude-package</emphasis>, <command>yum</command>
  <option>update</option> will remove the package from the appliance
  repository but not from the installed client system. If you use
  <emphasis>config-rpm/obsoletes</emphasis>, <command>yum</command>
  <option>update</option> will remove the package from the appliance
  repository <emphasis role="strong">and</emphasis> the installed client
  system. </para>

  <para>Remember that the <emphasis>packages</emphasis> TLE installs package
  groups, while the <emphasis>config-rpm</emphasis> TLE installs
  packages.</para>

  <para>In the example below, you can include two common system administration
  and network connectivity components: an FTP server and editors. The
  <emphasis>packages</emphasis> TLE includes the two common groups, which will
  be available for installation, while the <emphasis>config-rpm</emphasis>
  installs associated RPMs on the client system, as well. Insert the following
  two lines within the <emphasis>packages</emphasis> TLE in your
  <filename>samber-server.xml</filename> file.</para>

  <para><informalexample>
      <programlisting>&lt;group&gt;ftp-server&lt;/group&gt;
&lt;group&gt;editors&lt;/group&gt;</programlisting>
    </informalexample>And within the <emphasis>config-rpm</emphasis> TLE in
  your <filename>samber-server.xml</filename> file, insert these lines to
  automatically include them on the client system.</para>

  <para><informalexample>
      <programlisting>&lt;requires&gt;ftp&lt;/requires&gt;
&lt;requires&gt;ftp-server-krb5&lt;/requires&gt;
&lt;requires&gt;jedit&lt;/requires&gt;
&lt;requires&gt;gedit&lt;/requires&gt;
&lt;requires&gt;vim&lt;/requires&gt;</programlisting>
    </informalexample></para>

  <para>In the next section, you will learn how to add scripts and trigger and
  activate them based upon key install and uninstall events of other packages.
  </para>
</section>
