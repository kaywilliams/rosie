<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<section>
  <title>Creating Install Images</title>

  <para>By default SystemBuilder creates <filename>boot.iso</filename> and
  <filename>diskboot.img</filename> files for CD media. All images come with
  default sets of kernel boot arguments. But SystemBuilder allows you to do more. You
  can create multiple sets of release images for CD or DVD or create a USB
  key-ready image. You can also specify custom kernel boot arguments for each
  file type. Modify your <filename>samber-server.xml</filename> file to
  include what image customization options you want.</para>

  <para>To specify custom <filename class="extension">ISO</filename> file
  sizes and media, use the <emphasis>iso</emphasis> TLE and specify which sets
  you want. You can also add custom kernel boot arguments to the <filename
  class="extension">ISO</filename> files, as well. The default values are
  "%{ks}" and "method=cdrom." The example below creates several image
  types.</para>

  <para><informalexample>
      <programlisting>&lt;iso&gt;
&lt;set&gt;DVD&lt;/set&gt; &lt;!-- 4700000000 bytes/disc --&gt;
&lt;set&gt;400000000&lt;/set&gt; &lt;!-- 400000000 bytes/disc --&gt;
&lt;set&gt;640 mb&lt;/set&gt; &lt;!-- 640000000 bytes/disc --&gt;
&lt;set&gt;640 mib&lt;/set&gt; &lt;!-- 671088640 bytes/disc --&gt;
&lt;/iso&gt;</programlisting>
    </informalexample></para>

  <para>To add custom kernel boot arguments to the <filename
  class="directory">/isolinux/isolinux.cfg</filename> file of the
  <filename>boot.iso</filename> image, use the <emphasis>bootiso</emphasis>
  TLE in your system definition file. Substitute your appropriate IP
  addresses.</para>

  <para><informalexample>
      <programlisting>&lt;bootiso&gt;
&lt;boot-args use-defaults="false"&gt;
keymap=us lang=en_US ip=192.168.0.222
netmask=255.255.255.0 gateway=192.168.0.2 dns=192.168.0.7
&lt;/boot-args&gt;
&lt;/bootiso&gt;</programlisting>
    </informalexample></para>

  <para>To create a USB diskboot <filename class="extension">IMG</filename>
  file and possibly add custom boot arguments to the
  <filename>/syslinux.cfg</filename> file, use the
  <emphasis>diskboot-image</emphasis> TLE in your
  <filename>samber-server.xml</filename> file. The example below disables
  the default boot arguments "%{ks}," "%{method}," and "nousbstorage."</para>

  <para><informalexample>
      <programlisting>&lt;diskboot-image enabled="true"&gt;
&lt;!-- no args will be appended to syslinux.cfg --&gt;
&lt;boot-args use-defaults="false" /&gt;
&lt;/diskboot-image&gt;</programlisting>
    </informalexample></para>

  <para>See the DDFR for the complete syntaxes of <emphasis>iso</emphasis>,
  <emphasis>bootiso</emphasis> and <emphasis>diskboot</emphasis> TLEs.</para>
</section>
