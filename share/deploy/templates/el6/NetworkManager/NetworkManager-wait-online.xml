<?xml version="1.0" encoding="UTF-8"?>
<config-rpm id="NetworkManager-wait-online">
<description>
Provides NetworkManager-wait-online service for el6.
</description>

<requires>chkconfig</requires>
<requires>initscripts</requires>

<files destdir='/etc/rc.d/init.d' destname='NetworkManager-wait-online' 
       mode='755' content='text'>
#!/bin/bash
#
# NetworkManager-wait-online NetworkManager Wait Online
# 
# chkconfig: - 24 84
# description: Uses nm-online to wait for NetworkManager to come online
# before starting services that rely on network connectivity, i.e.
# qpidd, smb, etc.

NM_ONLINE=/usr/bin/nm-online

# exit silently if nm-online does not exist
[ -x $NM_ONLINE ] || exit 0

case "$1" in
  start)
    $NM_ONLINE -q --timeout=30
  ;;
  stop|status|restart|reload|force-reload)
    # do nothing
  ;;
esac
</files>
</config-rpm>
